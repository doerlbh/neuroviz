const ln={};function G(){}function ke(r,t){for(const e in t)r[e]=t[e];return r}function ne(r){return r()}function Zt(){return Object.create(null)}function nt(r){r.forEach(ne)}function Fe(r){return typeof r=="function"}function We(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let ft;function cn(r,t){return ft||(ft=document.createElement("a")),ft.href=t,r===ft.href}function Me(r){return Object.keys(r).length===0}function Le(r,...t){if(r==null)return G;const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function hn(r,t,e){r.$$.on_destroy.push(Le(t,e))}function fn(r,t,e,a){if(r){const u=re(r,t,e,a);return r[0](u)}}function re(r,t,e,a){return r[1]&&a?ke(e.ctx.slice(),r[1](a(t))):e.ctx}function dn(r,t,e,a){if(r[2]&&a){const u=r[2](a(e));if(t.dirty===void 0)return u;if(typeof u=="object"){const n=[],f=Math.max(t.dirty.length,u.length);for(let d=0;d<f;d+=1)n[d]=t.dirty[d]|u[d];return n}return t.dirty|u}return t.dirty}function mn(r,t,e,a,u,n){if(u){const f=re(t,e,a,n);r.p(f,u)}}function _n(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let a=0;a<e;a++)t[a]=-1;return t}return-1}let gt=!1;function Oe(){gt=!0}function He(){gt=!1}function Ue(r,t,e,a){for(;r<t;){const u=r+(t-r>>1);e(u)<=a?r=u+1:t=u}return r}function Ve(r){if(r.hydrate_init)return;r.hydrate_init=!0;let t=r.childNodes;if(r.nodeName==="HEAD"){const m=[];for(let y=0;y<t.length;y++){const C=t[y];C.claim_order!==void 0&&m.push(C)}t=m}const e=new Int32Array(t.length+1),a=new Int32Array(t.length);e[0]=-1;let u=0;for(let m=0;m<t.length;m++){const y=t[m].claim_order,C=(u>0&&t[e[u]].claim_order<=y?u+1:Ue(1,u,P=>t[e[P]].claim_order,y))-1;a[m]=e[C]+1;const T=C+1;e[T]=m,u=Math.max(T,u)}const n=[],f=[];let d=t.length-1;for(let m=e[u]+1;m!=0;m=a[m-1]){for(n.push(t[m-1]);d>=m;d--)f.push(t[d]);d--}for(;d>=0;d--)f.push(t[d]);n.reverse(),f.sort((m,y)=>m.claim_order-y.claim_order);for(let m=0,y=0;m<f.length;m++){for(;y<n.length&&f[m].claim_order>=n[y].claim_order;)y++;const C=y<n.length?n[y]:null;r.insertBefore(f[m],C)}}function je(r,t){if(gt){for(Ve(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;t!==r.actual_end_child?(t.claim_order!==void 0||t.parentNode!==r)&&r.insertBefore(t,r.actual_end_child):r.actual_end_child=t.nextSibling}else(t.parentNode!==r||t.nextSibling!==null)&&r.appendChild(t)}function Ne(r,t,e){r.insertBefore(t,e||null)}function De(r,t,e){gt&&!e?je(r,t):(t.parentNode!==r||t.nextSibling!=e)&&r.insertBefore(t,e||null)}function pt(r){r.parentNode.removeChild(r)}function pn(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function ie(r){return document.createElement(r)}function Pt(r){return document.createTextNode(r)}function gn(){return Pt(" ")}function yn(){return Pt("")}function vn(r,t,e,a){return r.addEventListener(t,e,a),()=>r.removeEventListener(t,e,a)}function wn(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function Re(r){return Array.from(r.childNodes)}function ae(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function se(r,t,e,a,u=!1){ae(r);const n=(()=>{for(let f=r.claim_info.last_index;f<r.length;f++){const d=r[f];if(t(d)){const m=e(d);return m===void 0?r.splice(f,1):r[f]=m,u||(r.claim_info.last_index=f),d}}for(let f=r.claim_info.last_index-1;f>=0;f--){const d=r[f];if(t(d)){const m=e(d);return m===void 0?r.splice(f,1):r[f]=m,u?m===void 0&&r.claim_info.last_index--:r.claim_info.last_index=f,d}}return a()})();return n.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,n}function Ie(r,t,e,a){return se(r,u=>u.nodeName===t,u=>{const n=[];for(let f=0;f<u.attributes.length;f++){const d=u.attributes[f];e[d.name]||n.push(d.name)}n.forEach(f=>u.removeAttribute(f))},()=>a(t))}function bn(r,t,e){return Ie(r,t,e,ie)}function $e(r,t){return se(r,e=>e.nodeType===3,e=>{const a=""+t;if(e.data.startsWith(a)){if(e.data.length!==a.length)return e.splitText(a.length)}else e.data=a},()=>Pt(t),!0)}function An(r){return $e(r," ")}function Kt(r,t,e){for(let a=e;a<r.length;a+=1){const u=r[a];if(u.nodeType===8&&u.textContent.trim()===t)return a}return r.length}function Cn(r){const t=Kt(r,"HTML_TAG_START",0),e=Kt(r,"HTML_TAG_END",t);if(t===e)return new Yt;ae(r);const a=r.splice(t,e-t+1);pt(a[0]),pt(a[a.length-1]);const u=a.slice(1,a.length-1);for(const n of u)n.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1;return new Yt(u)}function zn(r,t){t=""+t,r.wholeText!==t&&(r.data=t)}function En(r,t){r.value=t==null?"":t}function Sn(r,t,e,a){e===null?r.style.removeProperty(t):r.style.setProperty(t,e,a?"important":"")}function Tn(r,t=document.body){return Array.from(t.querySelectorAll(r))}class Be{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,a=null){this.e||(this.e=ie(e.nodeName),this.t=e,this.c(t)),this.i(a)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Ne(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(pt)}}class Yt extends Be{constructor(t){super();this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)De(this.t,this.n[e],t)}}let et;function tt(r){et=r}function kt(){if(!et)throw new Error("Function called outside component initialization");return et}function xn(r){kt().$$.on_mount.push(r)}function Pn(r){kt().$$.after_update.push(r)}function kn(r,t){kt().$$.context.set(r,t)}const Q=[],Xt=[],mt=[],Qt=[],oe=Promise.resolve();let Tt=!1;function ue(){Tt||(Tt=!0,oe.then(le))}function Fn(){return ue(),oe}function xt(r){mt.push(r)}const St=new Set;let dt=0;function le(){const r=et;do{for(;dt<Q.length;){const t=Q[dt];dt++,tt(t),qe(t.$$)}for(tt(null),Q.length=0,dt=0;Xt.length;)Xt.pop()();for(let t=0;t<mt.length;t+=1){const e=mt[t];St.has(e)||(St.add(e),e())}mt.length=0}while(Q.length);for(;Qt.length;)Qt.pop()();Tt=!1,St.clear(),tt(r)}function qe(r){if(r.fragment!==null){r.update(),nt(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(xt)}}const _t=new Set;let D;function Wn(){D={r:0,c:[],p:D}}function Mn(){D.r||nt(D.c),D=D.p}function Je(r,t){r&&r.i&&(_t.delete(r),r.i(t))}function Ln(r,t,e,a){if(r&&r.o){if(_t.has(r))return;_t.add(r),D.c.push(()=>{_t.delete(r),a&&(e&&r.d(1),a())}),r.o(t)}}function On(r,t){const e={},a={},u={$$scope:1};let n=r.length;for(;n--;){const f=r[n],d=t[n];if(d){for(const m in f)m in d||(a[m]=1);for(const m in d)u[m]||(e[m]=d[m],u[m]=1);r[n]=d}else for(const m in f)u[m]=1}for(const f in a)f in e||(e[f]=void 0);return e}function Hn(r){return typeof r=="object"&&r!==null?r:{}}function Un(r){r&&r.c()}function Vn(r,t){r&&r.l(t)}function Ge(r,t,e,a){const{fragment:u,on_mount:n,on_destroy:f,after_update:d}=r.$$;u&&u.m(t,e),a||xt(()=>{const m=n.map(ne).filter(Fe);f?f.push(...m):nt(m),r.$$.on_mount=[]}),d.forEach(xt)}function Ze(r,t){const e=r.$$;e.fragment!==null&&(nt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ke(r,t){r.$$.dirty[0]===-1&&(Q.push(r),ue(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function jn(r,t,e,a,u,n,f,d=[-1]){const m=et;tt(r);const y=r.$$={fragment:null,ctx:null,props:n,update:G,not_equal:u,bound:Zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:Zt(),dirty:d,skip_bound:!1,root:t.target||m.$$.root};f&&f(y.root);let C=!1;if(y.ctx=e?e(r,t.props||{},(T,P,...M)=>{const R=M.length?M[0]:P;return y.ctx&&u(y.ctx[T],y.ctx[T]=R)&&(!y.skip_bound&&y.bound[T]&&y.bound[T](R),C&&Ke(r,T)),P}):[],y.update(),C=!0,nt(y.before_update),y.fragment=a?a(y.ctx):!1,t.target){if(t.hydrate){Oe();const T=Re(t.target);y.fragment&&y.fragment.l(T),T.forEach(pt)}else y.fragment&&y.fragment.c();t.intro&&Je(r.$$.fragment),Ge(r,t.target,t.anchor,t.customElement),He(),le()}tt(m)}class Nn{$destroy(){Ze(this,1),this.$destroy=G}$on(t,e){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{const u=a.indexOf(e);u!==-1&&a.splice(u,1)}}$set(t){this.$$set&&!Me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const J=[];function Dn(r,t=G){let e;const a=new Set;function u(d){if(We(r,d)&&(r=d,e)){const m=!J.length;for(const y of a)y[1](),J.push(y,r);if(m){for(let y=0;y<J.length;y+=2)J[y][0](J[y+1]);J.length=0}}}function n(d){u(d(r))}function f(d,m=G){const y=[d,m];return a.add(y),a.size===1&&(e=t(u)||G),d(r),()=>{a.delete(y),a.size===0&&(e(),e=null)}}return{set:u,update:n,subscribe:f}}class Ye{init(t,e,a){this.polygonFirstPoint=!1,this.offscreenCanvas=document.createElement("CANVAS"),this.offscreenContext=this.offscreenCanvas.getContext("2d"),this.update=t,this.mainCanvas=e,this.mainCanvas.font="Roboto Condensed",this.mainCanvas.textAlign="left",this.mainCanvas.textBaseline="top",this.context=e.getContext("2d"),this.log=a,this.updateCanvasSize(),this.prevUpdateHash=""}canvas(){return this.mainCanvas}dc(){return this.offscreenContext}clientRect(){return this.mainCanvas.getBoundingClientRect()}frameBegin(){this.currentLineWidth=1,this.offscreenContext.clearRect(-1,-1,this.mainCanvas.width+1,this.mainCanvas.height+1)}frameEnd(){this.context.clearRect(-1,-1,this.mainCanvas.width+1,this.mainCanvas.height+1),this.context.drawImage(this.offscreenCanvas,0,0)}lineWidthNotification(t){this.currentLineWidth=t}noneZeroLineWidth(){return this.currentLineWidth!==0}startPolygonNotification(){var t=this.polygonFirstPoint;return this.polygonFirstPoint=!0,!t}endPolygonNotification(){this.polygonFirstPoint=!1}updateCanvasSize(){this.scaleFactor=window.devicePixelRatio,this.cssWidth=+getComputedStyle(this.mainCanvas).width.slice(0,-2),this.cssHeight=+getComputedStyle(this.mainCanvas).height.slice(0,-2);var t=`${this.scaleFactor}:${this.cssWidth}:`+this.cssHeight;t!==this.prevUpdateHash&&(this.mainCanvas.width=this.cssWidth*this.scaleFactor,this.mainCanvas.height=this.cssHeight*this.scaleFactor,this.offscreenCanvas.width=this.cssWidth*this.scaleFactor,this.offscreenCanvas.height=this.cssHeight*this.scaleFactor,this.offscreenContext.translate(.5,.5),this.offscreenContext.scale(this.scaleFactor,this.scaleFactor)),this.prevUpdateHash=t}updateFrame(a){var e=performance.now(),a=(this.updateCanvasSize(),0<this.mainCanvas.width&&0<this.mainCanvas.height&&this.update(this.scaleFactor,this.cssWidth,this.cssHeight,a),performance.now()-e);this.log&&1<a&&console.log("Render.updateFrame: "+a.toFixed(2)+"ms")}}class Xe{constructor(t){this.vizzu=t,this.module=t.module,this.eventHandlers=new Map}add(t,e){if(t!==""+t)throw new Error("first parameter should be string");t=this.vizzu.toCString(t);try{var a=this.vizzu.call(this.module._addEventListener)(t);this.eventHandlers.set(a,e)}finally{this.module._free(t)}}remove(t,e){var a=this.vizzu.toCString(t);if(t!==""+t)throw new Error("first parameter should be string");try{if(e){let u=null;if(this.eventHandlers.forEach((n,f)=>{n===e&&(u=f)}),u===null)throw new Error("unknown event handler");this.vizzu.call(this.module._removeEventListener)(a,u)}else this.vizzu.call(this.module._removeEventListener)(a,0)}finally{this.eventHandlers.delete(e),this.module._free(a)}}invoke(t,e){try{if(this.eventHandlers.has(t)){let a=JSON.parse(this.vizzu.fromCString(e));a.preventDefault=()=>{this.vizzu.call(this.module._event_preventDefault)()},a.event.endsWith("-draw")&&(a.renderingContext=this.vizzu.render.dc()),this.eventHandlers.get(t)(a)}}catch(a){console.log("exception in event handler: "+a)}}}const E=(r,t)=>{if(!r)throw new Error("Assert failed: "+t)},ce=(r,t,e)=>{E(Array.isArray(t),"array is not a list");try{if(t.length!==r.dimensions[e].values.length)throw new Error("Assert failed")}catch{E(!1,"dimensions are not the same")}t.forEach(a=>{Array.isArray(a)&&ce(r,a,e-1)})};class te{static isPivot(t){return(t==null?void 0:t.dimensions)!==void 0||(t==null?void 0:t.measures)!==void 0}static convert(t){E(typeof t=="object"&&t!==null&&!Array.isArray(t),"data is not an object"),E("dimensions"in t,"data.dimensions is requreid"),E("measures"in t,"data.measures is requreid"),t.series=[];let e=1;E(Array.isArray(t.dimensions),"data.dimensions is not a list");for(let f=0;f<t.dimensions.length;f++){var a=t.dimensions[f];E(typeof a=="object"&&a!==null&&!Array.isArray(a),"data.dimensions.item is not an object"),E("name"in a,"data.dimensions.item.name is requreid"),E(a.type===void 0||a.type==="dimension","data.dimensions.item.type is invalid"),E("values"in a,"data.dimensions.item.values is requreid"),E(Array.isArray(a.values),"data.dimensions.item.values is not a list"),E(a.values.length!==0,"data.dimensions.item.values length is zero"),e*=a.values.length}let u=1;for(let f=0;f<t.dimensions.length;f++){let d=t.dimensions[f],m=[],y=[];d.values.forEach(C=>{for(let T=1;T<=u;T++)y.push(C)}),u*=d.values.length;for(let C=1;C<=e/u;C++)m=m.concat(y);var n={name:d.name,type:d.type||"dimension",values:m};t.series.push(n)}E(typeof t.measures=="object"&&t.measures!==null,"data.measures is not a list or an object"),Array.isArray(t.measures)||(t.measures=[t.measures]);for(let f=0;f<t.measures.length;f++){let d=t.measures[f],m=(E(typeof d=="object"&&d!==null&&!Array.isArray(d),"data.measures.item is not an object"),E("name"in d,"data.measures.item.name is requreid"),E("values"in d,"data.measures.item.values is requreid"),E(Array.isArray(d.values),"data.measures.item.values is not a list"),ce(t,d.values,t.dimensions.length-1),{name:d.name,type:d.type,values:d.values.flat(1/0)});m.type===void 0&&delete m.type,E(m.values.length===e,"dimensions are not the same"),t.series.push(m)}}}class Qe{constructor(t,e){return this.chart=t,this.record=e,new Proxy(this,{get:(a,u)=>a.getValue(u)})}getValue(t){t=this.chart.toCString(t);let e,a;try{e=this.chart.call(this.chart.module._record_getValue)(this.record,t,!0),a=e?this.chart.fromCString(e):(e=this.chart.call(this.chart.module._record_getValue)(this.record,t,!1),this.chart.module.getValue(e,"double"))}finally{this.chart.module._free(t)}return a}}class tn{constructor(t){this.chart=t}set(t){if(t){if(te.isPivot(t)){if(this.is1NF(t))throw new Error("inconsistent data form: series/records and dimensions/measures are both set.");te.convert(t)}if(t.series){if(!Array.isArray(t.series))throw new Error("data series field is not an array");for(const e of t.series)this.setSeries(e)}if(t.records){if(!Array.isArray(t.records))throw new Error("data records field is not an array");for(const e of t.records)this.addRecord(e)}!t.filter&&t.filter!==null||this.setFilter(t.filter)}}addRecord(t){if(!Array.isArray(t))throw new Error("data record is not an array");let e=new Uint32Array(t.length);for(let d=0;d<t.length;d++){var a=this.chart.toCString(String(t[d]).toString());e[d]=a}var u=4*t.length,n=this.chart.module._malloc(u);new Uint8Array(this.chart.module.HEAPU8.buffer,n,u).set(new Uint8Array(e.buffer));try{this.chart.call(this.chart.module._data_addRecord)(n,t.length)}finally{for(var f of e)this.chart.module._free(f);this.chart.module._free(n)}}setSeries(t){if(!t.name)throw new Error("missing series name");if(t.values||(t.values=[]),t.type||(t.type=this.detectType(t.values)),t.type==="dimension")this.addDimension(t.name,t.values);else{if(t.type!=="measure")throw new Error("invalid series type: "+t.type);this.addMeasure(t.name,t.values)}}detectType(t){if(Array.isArray(t)&&t.length){if(typeof t[0]=="number")return"measure";if(t[0]===""+t[0])return"dimension"}return null}addDimension(t,e){if(typeof t!="string"&&!(t instanceof String))throw new Error("first parameter should be string");if(!(e instanceof Array))throw new Error("second parameter should be an array");let a=new Uint32Array(e.length);for(let m=0;m<e.length;m++){if(typeof e[m]!="string"&&!(e[m]instanceof String))throw new Error("array element should be string");var u=this.chart.toCString(e[m]);a[m]=u}var f=4*e.length,n=this.chart.module._malloc(f),f=(new Uint8Array(this.chart.module.HEAPU8.buffer,n,f).set(new Uint8Array(a.buffer)),this.chart.toCString(t));try{this.chart.call(this.chart.module._data_addDimension)(f,n,e.length)}finally{this.chart.module._free(f);for(var d of a)this.chart.module._free(d);this.chart.module._free(n)}}addMeasure(t,e){if(typeof t!="string"&&!(t instanceof String))throw new Error("first parameter should be string");if(!(e instanceof Array))throw new Error("second parameter should be an array");var a=new Float64Array(e),n=8*e.length,u=this.chart.module._malloc(n),n=(new Uint8Array(this.chart.module.HEAPU8.buffer,u,n).set(new Uint8Array(a.buffer)),this.chart.toCString(t));try{this.chart.call(this.chart.module._data_addMeasure)(n,u,e.length)}finally{this.chart.module._free(n),this.chart.module._free(u)}}setFilter(t){if(typeof t=="function"){var e=this.chart.module.addFunction(a=>t(new Qe(this.chart,a)),"ii");this.chart.call(this.chart.module._chart_setFilter)(e)}else{if(t!==null)throw new Error("data filter is not a function or null");this.chart.call(this.chart.module._chart_setFilter)(0)}}is1NF(t){return t.series||t.records}}class ee extends Promise{constructor(t,e){super((a,u)=>{t(a,u)}),this.chart=e}then(t,e){const a=super.then(t,e);return a.chart=this.chart,a}get[Symbol.toStringTag](){return"AnimControl"}seek(t){return this.animControl("seek",t),this}pause(){return this.animControl("pause"),this}play(){return this.animControl("play"),this}stop(){return this.animControl("stop"),this}reverse(){return this.animControl("reverse"),this}animControl(t,e=""){t=this.chart.toCString(t),e=this.chart.toCString(e);try{this.chart.call(this.chart.module._anim_control)(t,e)}finally{this.chart.module._free(e),this.chart.module._free(t)}}}class en{constructor(t){this.set=!1,this.chart=t,this.id=0,this.animating=!1,this.lastMarkerId=null,this.lastMove=new Date,this.mouseMoveHandler=e=>{this.mousemove(e)},this.mouseOnHandler=e=>{this.mouseon(e)},this.enabled=!1}enable(t){t!==this.set&&(t?(this.chart.on("mousemove",this.mouseMoveHandler),this.chart.on("mouseon",this.mouseOnHandler)):(this.chart.off("mousemove",this.mouseMoveHandler),this.chart.off("mouseon",this.mouseOnHandler),this.id++,setTimeout(()=>{this.out(this.id)},200)),this.set=t)}mousemove(){this.lastMove=new Date}mouseon(t){this.id++;let e=this.id;t.data.marker?setTimeout(()=>{this.in(e,t.data.marker.id)},0):setTimeout(()=>{this.out(e)},200)}in(t,e){this.id===t&&(this.animating?setTimeout(()=>{this.in(t,e)},100):(this.lastMarkerId=e,this.animating=!0,this.chart.animate({config:{tooltip:e}},this.lastMarkerId?"100ms":"250ms").then(()=>{this.animating=!1})))}out(t){var e;this.id===t&&(e=new Date-this.lastMove,!this.animating&&200<e?(this.lastMarkerId=null,this.animating=!0,this.chart.animate({config:{tooltip:null}},"250ms").then(()=>{this.animating=!1})):setTimeout(()=>{this.out(t)},200-e))}}var nn=function(){var r=ln.url;return function(t){var e,a,u,n=(t=t||{})!==void 0?t:{},M=(n.ready=new Promise(function(i,s){e=i,a=s}),{});for(u in n)n.hasOwnProperty(u)&&(M[u]=n[u]);var f,d="";document.currentScript&&(d=document.currentScript.src);var d=(d=r||d).indexOf("blob:")!==0?d.substr(0,d.lastIndexOf("/")+1):"",m=console.log.bind(console),y=console.warn.bind(console);for(u in M)M.hasOwnProperty(u)&&(n[u]=M[u]);var C,T,P,M=null,R=[];function he(i,s){var o,c=vt;if(!C){C=new WeakMap;for(var l=0;l<c.length;l++){var h=c.get(l);h&&C.set(h,l)}}if(C.has(i))return C.get(i);if(R.length)o=R.pop();else{o=c.length;try{c.grow(1)}catch(_){throw _ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":_}}try{c.set(o,i)}catch(_){if(!(_ instanceof TypeError))throw _;s=function(g,p){if(typeof WebAssembly.Function=="function"){for(var v={i:"i32",j:"i64",f:"f32",d:"f64"},b={parameters:[],results:p[0]=="v"?[]:[v[p[0]]]},A=1;A<p.length;++A)b.parameters.push(v[p[A]]);return new WebAssembly.Function(b,g)}var w=[1,0,1,96],z=p.slice(0,1),j=p.slice(1),q={i:127,j:126,f:125,d:124};for(w.push(j.length),A=0;A<j.length;++A)w.push(q[j[A]]);return z=="v"?w.push(0):w=w.concat([1,q[z]]),w[1]=w.length-2,z=new Uint8Array([0,97,115,109,1,0,0,0].concat(w,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),z=new WebAssembly.Module(z),new WebAssembly.Instance(z,{e:{f:g}}).exports.f}(i,s),c.set(o,s)}return C.set(i,o),o}function yt(i,s,o,c){switch(o=(o=o||"i8").charAt(o.length-1)==="*"?"i32":o){case"i1":case"i8":Z[i>>0]=s;break;case"i16":L[i>>1]=s;break;case"i32":S[i>>2]=s;break;case"i64":O=[s>>>0,1<=+be(O=s)?0<O?(0|Ae(+jt(O/4294967296),4294967295))>>>0:~~+Vt((O-(~~O>>>0))/4294967296)>>>0:0],S[i>>2]=O[0],S[i+4>>2]=O[1];break;case"float":it[i>>2]=s;break;case"double":at[i>>3]=s;break;default:B("invalid type for setValue: "+o)}}function I(i,s,o){switch(s=(s=s||"i8").charAt(s.length-1)==="*"?"i32":s){case"i1":case"i8":return Z[i>>0];case"i16":return L[i>>1];case"i32":case"i64":return S[i>>2];case"float":return it[i>>2];case"double":return at[i>>3];default:B("invalid type for getValue: "+s)}return null}typeof WebAssembly!="object"&&B("no native wasm support detected");var vt=new WebAssembly.Table({initial:1164,element:"anyfunc"}),Ft=!1,Wt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function Mt(i,s,o){for(var c=s+o,l=s;i[l]&&!(c<=l);)++l;if(16<l-s&&i.subarray&&Wt)return Wt.decode(i.subarray(s,l));for(var h="";s<l;){var _,g,p=i[s++];128&p?(g=63&i[s++],(224&p)==192?h+=String.fromCharCode((31&p)<<6|g):(_=63&i[s++],(p=(240&p)==224?(15&p)<<12|g<<6|_:(7&p)<<18|g<<12|_<<6|63&i[s++])<65536?h+=String.fromCharCode(p):(g=p-65536,h+=String.fromCharCode(55296|g>>10,56320|1023&g)))):h+=String.fromCharCode(p)}return h}function F(i,s){return i?Mt(x,i,s):""}function Lt(_,s,o){var c=_,l=x,h=s,_=o;if(!(0<_))return 0;for(var s=h,g=h+_-1,p=0;p<c.length;++p){var v=c.charCodeAt(p);if((v=55296<=v&&v<=57343?65536+((1023&v)<<10)|1023&c.charCodeAt(++p):v)<=127){if(g<=h)break;l[h++]=v}else if(v<=2047){if(g<=h+1)break;l[h++]=192|v>>6,l[h++]=128|63&v}else if(v<=65535){if(g<=h+2)break;l[h++]=224|v>>12,l[h++]=128|v>>6&63,l[h++]=128|63&v}else{if(g<=h+3)break;l[h++]=240|v>>18,l[h++]=128|v>>12&63,l[h++]=128|v>>6&63,l[h++]=128|63&v}}return l[h]=0,h-s}var Ot=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function fe(i,s){for(var o,c=i>>1,l=c+s/2;!(l<=c)&&rt[c];)++c;if(32<(o=c<<1)-i&&Ot)return Ot.decode(x.subarray(i,o));for(var h=0,_="";;){var g=L[i+2*h>>1];if(g==0||h==s/2)return _;++h,_+=String.fromCharCode(g)}}function de(i,s,o){if((o=o===void 0?2147483647:o)<2)return 0;for(var c=s,l=(o-=2)<2*i.length?o/2:i.length,h=0;h<l;++h){var _=i.charCodeAt(h);L[s>>1]=_,s+=2}return L[s>>1]=0,s-c}function me(i){return 2*i.length}function _e(i,s){for(var o=0,c="";!(s/4<=o);){var l,h=S[i+4*o>>2];if(h==0)break;++o,65536<=h?(l=h-65536,c+=String.fromCharCode(55296|l>>10,56320|1023&l)):c+=String.fromCharCode(h)}return c}function pe(i,s,o){if((o=o===void 0?2147483647:o)<4)return 0;for(var c=s,l=c+o-4,h=0;h<i.length;++h){var _=i.charCodeAt(h);if(55296<=_&&_<=57343&&(_=65536+((1023&_)<<10)|1023&i.charCodeAt(++h)),S[s>>2]=_,l<(s+=4)+4)break}return S[s>>2]=0,s-c}function ge(i){for(var s=0,o=0;o<i.length;++o){var c=i.charCodeAt(o);55296<=c&&c<=57343&&++o,s+=4}return s}var $,Z,x,L,rt,S,W,it,at;function Ht(i){$=i,n.HEAP8=Z=new Int8Array(i),n.HEAP16=L=new Int16Array(i),n.HEAP32=S=new Int32Array(i),n.HEAPU8=x=new Uint8Array(i),n.HEAPU16=rt=new Uint16Array(i),n.HEAPU32=W=new Uint32Array(i),n.HEAPF32=it=new Float32Array(i),n.HEAPF64=at=new Float64Array(i)}function st(i){for(;0<i.length;){var s,o=i.shift();typeof o=="function"?o(n):typeof(s=o.func)=="number"?o.arg===void 0?n.dynCall_v(s):n.dynCall_vi(s,o.arg):s(o.arg===void 0?null:o.arg)}}P=new WebAssembly.Memory({initial:256,maximum:32768}),($=P?P.buffer:$).byteLength,Ht($),S[14580]=5301360;var ye=[],Ut=[],ve=[],we=[],be=Math.abs,Vt=Math.ceil,jt=Math.floor,Ae=Math.min,ot=0,K=null;function B(i){throw y(i+=""),Ft=!0,i="abort("+i+"). Build with -s ASSERTIONS=1 for more info.",i=new WebAssembly.RuntimeError(i),a(i),i}n.preloadedImages={},n.preloadedAudios={};function Nt(i){return i=i,s="data:application/octet-stream;base64,",String.prototype.startsWith?i.startsWith(s):i.indexOf(s)===0;var s}var wt,O,N="cvizzu.wasm";function Dt(){try{throw"both async and sync fetching of the wasm failed"}catch(i){B(i)}}function bt(i){switch(i){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+i)}}Nt(N)||(wt=N,N=n.locateFile?n.locateFile(wt,d):d+wt),Ut.push({func:function(){Jt()}});var Rt=void 0;function H(i){for(var s="",o=i;x[o];)s+=Rt[x[o++]];return s}var At={},It={},Ce=48,ze=57;function Ee(i,s){return i=function(o){if(o===void 0)return"_unknown";var c=(o=o.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return Ce<=c&&c<=ze?"_"+o:o}(i),new Function("body","return function "+i+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(s)}function $t(i,s){var o=Ee(s,function(c){this.name=s,this.message=c,c=new Error(c).stack,c!==void 0&&(this.stack=this.toString()+`
`+c.replace(/^Error(:[^\n]*)?\n/,""))});return o.prototype=Object.create(i.prototype),(o.prototype.constructor=o).prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},o}var Bt=void 0;function Y(i){throw new Bt(i)}function U(i,s,o){if(o=o||{},!("argPackAdvance"in s))throw new TypeError("registerType registeredInstance requires argPackAdvance");var c=s.name;if(i||Y('type "'+c+'" must have a positive integer typeid pointer'),It.hasOwnProperty(i)){if(o.ignoreDuplicateRegistrations)return;Y("Cannot register type '"+c+"' twice")}It[i]=s,At.hasOwnProperty(i)&&(o=At[i],delete At[i],o.forEach(function(l){l()}))}var Ct=[],k=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Se(){for(var i=0,s=5;s<k.length;++s)k[s]!==void 0&&++i;return i}function Te(){for(var i=5;i<k.length;++i)if(k[i]!==void 0)return k[i];return null}function zt(i){return this.fromWireType(W[i>>2])}function Et(i){if(i===null)return"null";var s=typeof i;return s=="object"||s=="array"||s=="function"?i.toString():""+i}for(var xe=function(){return performance.now()},ut={mappings:{},buffers:[null,[],[]],printChar:function(i,s){var o=ut.buffers[i];s===0||s===10?((i===1?m:y)(Mt(o,0)),o.length=0):o.push(s)},varargs:void 0,get:function(){return ut.varargs+=4,S[ut.varargs-4>>2]},getStr:function(i){return F(i)},get64:function(i,s){return i}},qt=new Array(256),lt=0;lt<256;++lt)qt[lt]=String.fromCharCode(lt);Rt=qt,Bt=n.BindingError=$t(Error,"BindingError"),n.InternalError=$t(Error,"InternalError"),n.count_emval_handles=Se,n.get_first_emval=Te;var ct,Pe={a:function(i){return ht(i)},b:function(i,s,o){throw i},x:function(i,s,o,c,l){var h=bt(o);U(i,{name:s=H(s),fromWireType:function(_){return!!_},toWireType:function(_,g){return g?c:l},argPackAdvance:8,readValueFromPointer:function(_){var g;if(o===1)g=Z;else if(o===2)g=L;else{if(o!==4)throw new TypeError("Unknown boolean type size: "+s);g=S}return this.fromWireType(g[_>>h])},destructorFunction:null})},v:function(i,s){U(i,{name:s=H(s),fromWireType:function(o){var c=k[o].value;return 4<(o=o)&&--k[o].refcount==0&&(k[o]=void 0,Ct.push(o)),c},toWireType:function(o,c){var l=c;switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var h=Ct.length?Ct.pop():k.length;return k[h]={refcount:1,value:l},h}},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:null})},h:function(i,s,o){o=bt(o),U(i,{name:s=H(s),fromWireType:function(c){return c},toWireType:function(c,l){if(typeof l!="number"&&typeof l!="boolean")throw new TypeError('Cannot convert "'+Et(l)+'" to '+this.name);return l},argPackAdvance:8,readValueFromPointer:function(c,l){switch(l){case 2:return function(h){return this.fromWireType(it[h>>2])};case 3:return function(h){return this.fromWireType(at[h>>3])};default:throw new TypeError("Unknown float type: "+c)}}(s,o),destructorFunction:null})},d:function(i,s,o,c,l){s=H(s),l===-1&&(l=4294967295);var h,_=bt(o),g=function(v){return v},p=(c===0&&(h=32-8*o,g=function(v){return v<<h>>>h}),s.indexOf("unsigned")!=-1);U(i,{name:s,fromWireType:g,toWireType:function(v,b){if(typeof b!="number"&&typeof b!="boolean")throw new TypeError('Cannot convert "'+Et(b)+'" to '+this.name);if(b<c||l<b)throw new TypeError('Passing a number "'+Et(b)+'" from JS side to C/C++ side to an argument of type "'+s+'", which is outside the valid range ['+c+", "+l+"]!");return p?b>>>0:0|b},argPackAdvance:8,readValueFromPointer:function(v,b,A){switch(b){case 0:return A?function(w){return Z[w]}:function(w){return x[w]};case 1:return A?function(w){return L[w>>1]}:function(w){return rt[w>>1]};case 2:return A?function(w){return S[w>>2]}:function(w){return W[w>>2]};default:throw new TypeError("Unknown integer type: "+v)}}(s,_,c!==0),destructorFunction:null})},c:function(i,s,o){var c=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][s];function l(h){var g=W,_=g[h>>=2],g=g[h+1];return new c($,g,_)}U(i,{name:o=H(o),fromWireType:l,argPackAdvance:8,readValueFromPointer:l},{ignoreDuplicateRegistrations:!0})},i:function(i,s){var o=(s=H(s))==="std::string";U(i,{name:s,fromWireType:function(c){var l=W[c>>2];if(o)for(var h=c+4,_=0;_<=l;++_){var g,p,v=c+4+_;_!=l&&x[v]!=0||(g=F(h,v-h),p=p===void 0?g:p+String.fromCharCode(0)+g,h=v+1)}else{for(var b=new Array(l),_=0;_<l;++_)b[_]=String.fromCharCode(x[c+4+_]);p=b.join("")}return V(c),p},toWireType:function(c,l){var h=typeof(l=l instanceof ArrayBuffer?new Uint8Array(l):l)=="string",_=(h||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||Y("Cannot pass non-string to std::string"),(o&&h?function(){for(var b=l,A=0,w=0;w<b.length;++w){var z=b.charCodeAt(w);(z=55296<=z&&z<=57343?65536+((1023&z)<<10)|1023&b.charCodeAt(++w):z)<=127?++A:A+=z<=2047?2:z<=65535?3:4}return A}:function(){return l.length})()),g=ht(4+_+1);if(W[g>>2]=_,o&&h)Lt(l,g+4,_+1);else if(h)for(var p=0;p<_;++p){var v=l.charCodeAt(p);255<v&&(V(g),Y("String has UTF-16 code units that do not fit in 8 bits")),x[g+4+p]=v}else for(p=0;p<_;++p)x[g+4+p]=l[p];return c!==null&&c.push(V,g),g},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:function(c){V(c)}})},f:function(i,s,o){var c,l,h,_,g;o=H(o),s===2?(c=fe,l=de,_=me,h=function(){return rt},g=1):s===4&&(c=_e,l=pe,_=ge,h=function(){return W},g=2),U(i,{name:o,fromWireType:function(p){for(var v=W[p>>2],b=h(),A=p+4,w=0;w<=v;++w){var z,j,q=p+4+w*s;w!=v&&b[q>>g]!=0||(z=c(A,q-A),j=j===void 0?z:j+String.fromCharCode(0)+z,A=q+s)}return V(p),j},toWireType:function(p,v){typeof v!="string"&&Y("Cannot pass non-string to C++ string type "+o);var b=_(v),A=ht(4+b+s);return W[A>>2]=b>>g,l(v,A+4,b+s),p!==null&&p.push(V,A),A},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:function(p){V(p)}})},y:function(i,s){U(i,{isVoid:!0,name:s=H(s),argPackAdvance:0,fromWireType:function(){},toWireType:function(o,c){}})},e:function(){B()},L:function(i,s,o,c,l,h){n.render.dc().bezierCurveTo(i,s,o,c,l,h)},M:function(i,s){var o=n.render.dc();n.render.startPolygonNotification()?o.moveTo(i,s):o.lineTo(i,s)},T:function(){},N:function(){n.render.dc().beginPath()},I:function(i,s,o){var c=n.render.dc();c.beginPath(),c.arc(i,s,o,0,6.28318530718),c.fill(),n.render.noneZeroLineWidth()&&c.stroke()},E:function(i,s,o,c,l,h){},P:function(){let i=n.render.dc();i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor="rgba(0, 0, 0, 0)"},K:function(){var i=n.render.dc();i.closePath(),i.fill(),n.render.noneZeroLineWidth()&&i.stroke(),n.render.endPolygonNotification()},C:function(){n.render.frameBegin()},k:function(){n.render.frameEnd()},H:function(i,s,o,c){var l=n.render.dc();l.beginPath(),l.moveTo(i,s),l.lineTo(o,c),n.render.noneZeroLineWidth()&&l.stroke()},J:function(i,s,o,c){var l=n.render.dc();l.beginPath(),l.rect(i,s,o,c),l.fill(),n.render.noneZeroLineWidth()&&l.stroke()},z:function(){n.render.dc().restore()},A:function(){n.render.dc().save()},X:function(i,s,o,c){n.render.dc().fillStyle="rgba("+255*i+","+255*s+","+255*o+","+c+")"},F:function(i,s,o,c,l,h){for(var _=n.render.dc(),g=_.createLinearGradient(i,s,o,c),p=0;p<40*l;p+=40)g.addColorStop(I(h+p,"double"),"rgba("+255*I(h+p+8,"double")+","+255*I(h+p+16,"double")+","+255*I(h+p+24,"double")+","+I(h+p+32,"double")+")");_.fillStyle=g},l:function(i,s,o){var c=n.render.dc();c.beginPath(),c.arc(i,s,o,0,6.28318530718),c.clip()},Y:function(){var i=n.render.dc();i.closePath(),i.clip(),n.render.endPolygonNotification()},m:function(i,s,o,c){var l=n.render.dc();l.beginPath(),l.rect(i,s,o,c),l.clip()},S:function(i){let s=n.render.dc();s.shadowBlur=i},R:function(i,s,o,c){let l=n.render.dc();l.shadowColor="rgba("+255*i+","+255*s+","+255*o+","+c+")"},Q:function(i,s){let o=n.render.dc();o.shadowOffsetX=i,o.shadowOffsetY=s},U:function(i){n.render.dc().font=F(i)},W:function(i,s,o,c){n.render.dc().strokeStyle="rgba("+255*i+","+255*s+","+255*o+","+c+")"},V:function(i){n.render.dc().lineWidth=i,n.render.lineWidthNotification(i)},G:function(i,s,o,c,l){var h=n.render.dc();h.textAlign="left",h.textBaseline="top",i+=o<0?-o:0,s+=c<0?-c:0,h.fillText(F(l),i,s)},n:function(c,s,o){var c=(l=n.render.dc()).measureText(F(c)).width,l=(l=l.measureText("Op")).actualBoundingBoxAscent+l.actualBoundingBoxDescent;yt(s,c,"double"),yt(o,l,"double")},B:function(i,s,o,c){var l=n.render.dc();l.translate(i,s),l.rotate(c),l.scale(o,o)},u:function(i,s){var o;if(i===0)o=Date.now();else{if(i!==1&&i!==4)return-1;o=xe()}return S[s>>2]=o/1e3|0,S[s+4>>2]=o%1e3*1e3*1e3|0,0},r:function(i,s,o){x.copyWithin(i,s,s+o)},s:function(i){var s=x.length,o=2147483648;if(o<(i>>>=0))return!1;for(var c,l=1;l<=4;l*=2){var h=s*(1+.2/l),h=Math.min(h,i+100663296);if(function(_){try{return P.grow(_-$.byteLength+65535>>>16),Ht(P.buffer),1}catch{}}(Math.min(o,(0<(h=Math.max(16777216,i,h))%(c=65536)&&(h+=c-h%c),h))))return!0}return!1},w:function(i,s){n.events.invoke(i,s)},t:function(i){return 0},p:function(i,s,o,c,l){},g:function(i,s,o,c){for(var l=0,h=0;h<o;h++){for(var _=S[s+8*h>>2],g=S[s+(8*h+4)>>2],p=0;p<g;p++)ut.printChar(i,x[_+p]);l+=g}return S[c>>2]=l,0},D:function(i){console.log(new Date().toISOString()+": "+F(i))},memory:P,o:function(i){window.open(F(i),"_blank")},O:function(i){n.removeFunction(i)},j:function(i){return 0<=(i=+i)?+jt(i+.5):+Vt(i-.5)},q:function(i){n.render.canvas().style.cursor=F(i)},table:vt},Jt=(function(){var i={a:Pe};function s(_,h){var _=_.exports;n.asm=_,--ot==0&&K&&(_=K,K=null,_())}function o(l){s(l.instance)}function c(l){return(typeof fetch=="function"?fetch(N,{credentials:"same-origin"}).then(function(h){if(h.ok)return h.arrayBuffer();throw"failed to load wasm binary file at '"+N+"'"}).catch(Dt):new Promise(function(h,_){h(Dt())})).then(function(h){return WebAssembly.instantiate(h,i)}).then(l,function(h){y("failed to asynchronously prepare wasm: "+h),B(h)})}if(ot++,n.instantiateWasm)try{return n.instantiateWasm(i,s)}catch(l){return y("Module.instantiateWasm callback failed with error: "+l)}typeof WebAssembly.instantiateStreaming!="function"||Nt(N)||typeof fetch!="function"?c(o):fetch(N,{credentials:"same-origin"}).then(function(l){return WebAssembly.instantiateStreaming(l,i).then(o,function(h){return y("wasm streaming compile failed: "+h),y("falling back to ArrayBuffer instantiation"),c(o)})})}(),n.___wasm_call_ctors=function(){return(Jt=n.___wasm_call_ctors=n.asm.Z).apply(null,arguments)}),ht=(n._vizzu_errorMessage=function(){return(n._vizzu_errorMessage=n.asm._).apply(null,arguments)},n._vizzu_version=function(){return(n._vizzu_version=n.asm.$).apply(null,arguments)},n._vizzu_setLogging=function(){return(n._vizzu_setLogging=n.asm.aa).apply(null,arguments)},n._vizzu_init=function(){return(n._vizzu_init=n.asm.ba).apply(null,arguments)},n._vizzu_keyPress=function(){return(n._vizzu_keyPress=n.asm.ca).apply(null,arguments)},n._vizzu_mouseMove=function(){return(n._vizzu_mouseMove=n.asm.da).apply(null,arguments)},n._vizzu_mouseDown=function(){return(n._vizzu_mouseDown=n.asm.ea).apply(null,arguments)},n._vizzu_mouseUp=function(){return(n._vizzu_mouseUp=n.asm.fa).apply(null,arguments)},n._vizzu_mouseLeave=function(){return(n._vizzu_mouseLeave=n.asm.ga).apply(null,arguments)},n._vizzu_mousewheel=function(){return(n._vizzu_mousewheel=n.asm.ha).apply(null,arguments)},n._vizzu_poll=function(){return(n._vizzu_poll=n.asm.ia).apply(null,arguments)},n._vizzu_update=function(){return(n._vizzu_update=n.asm.ja).apply(null,arguments)},n._style_getList=function(){return(n._style_getList=n.asm.ka).apply(null,arguments)},n._style_setValue=function(){return(n._style_setValue=n.asm.la).apply(null,arguments)},n._style_getValue=function(){return(n._style_getValue=n.asm.ma).apply(null,arguments)},n._chart_store=function(){return(n._chart_store=n.asm.na).apply(null,arguments)},n._chart_restore=function(){return(n._chart_restore=n.asm.oa).apply(null,arguments)},n._chart_free=function(){return(n._chart_free=n.asm.pa).apply(null,arguments)},n._chart_getList=function(){return(n._chart_getList=n.asm.qa).apply(null,arguments)},n._chart_getValue=function(){return(n._chart_getValue=n.asm.ra).apply(null,arguments)},n._chart_setValue=function(){return(n._chart_setValue=n.asm.sa).apply(null,arguments)},n._chart_setFilter=function(){return(n._chart_setFilter=n.asm.ta).apply(null,arguments)},n._record_getValue=function(){return(n._record_getValue=n.asm.ua).apply(null,arguments)},n._data_addDimension=function(){return(n._data_addDimension=n.asm.va).apply(null,arguments)},n._data_addMeasure=function(){return(n._data_addMeasure=n.asm.wa).apply(null,arguments)},n._data_addRecord=function(){return(n._data_addRecord=n.asm.xa).apply(null,arguments)},n._addEventListener=function(){return(n._addEventListener=n.asm.ya).apply(null,arguments)},n._removeEventListener=function(){return(n._removeEventListener=n.asm.za).apply(null,arguments)},n._event_preventDefault=function(){return(n._event_preventDefault=n.asm.Aa).apply(null,arguments)},n._chart_animate=function(){return(n._chart_animate=n.asm.Ba).apply(null,arguments)},n._anim_control=function(){return(n._anim_control=n.asm.Ca).apply(null,arguments)},n._anim_setValue=function(){return(n._anim_setValue=n.asm.Da).apply(null,arguments)},n.___getTypeName=function(){return(n.___getTypeName=n.asm.Ea).apply(null,arguments)},n.___embind_register_native_and_builtin_types=function(){return(n.___embind_register_native_and_builtin_types=n.asm.Fa).apply(null,arguments)},n._malloc=function(){return(ht=n._malloc=n.asm.Ga).apply(null,arguments)}),V=n._free=function(){return(V=n._free=n.asm.Ha).apply(null,arguments)};n.dynCall_vi=function(){return(n.dynCall_vi=n.asm.Ia).apply(null,arguments)},n.dynCall_v=function(){return(n.dynCall_v=n.asm.Ja).apply(null,arguments)};function Gt(i){function s(){ct||(ct=!0,n.calledRun=!0,Ft||(st(Ut),st(ve),e(n),st(we)))}0<ot||(st(ye),0<ot||s())}return n.setValue=yt,n.getValue=I,n.UTF8ToString=F,n.stringToUTF8=Lt,n.addFunction=he,n.removeFunction=function(i){i=i,C.delete(vt.get(i)),R.push(i)},K=function i(){ct||Gt(),ct||(K=i)},(n.run=Gt)(),t.ready}}();const rn=r=>{try{return r.cssRules,!0}catch{return!1}},an=(r="")=>[...document.styleSheets].filter(rn).reduce((t,e)=>t.concat([...e.cssRules].filter(a=>a.type===1).reduce((a,u)=>(u=[...u.style].filter(n=>n.trim().indexOf("--"+r)===0).map(n=>n.trim()),[...a,...u]),[])),[]),sn=(r,t="")=>{const e=an(t),a=getComputedStyle(r);return e.map(u=>[u,a.getPropertyValue(u).trim()]).filter(u=>u[1]!=="")},on=(r,t,e,a)=>(t.reduce((u,n,f)=>(f===t.length-1?!a&&u[n]||(u[n]=e):u[n]||(u[n]={}),u[n]),r),r),un=(r,t,e="",a=!1)=>t=r.reduce((u,[n,f])=>(n=n.replace("--"+(e?e+"-":""),"").split("-"),on(u,n,f,a),u),t=t||{});let X=null;class Rn{static options(t){X=t}constructor(t,e){if(this.container=t,this.container instanceof HTMLElement||(this.container=document.getElementById(t)),!this.container)throw new Error(`Cannot find container ${this.container} to render Vizzu!`);this._propPrefix="vizzu",this.started=!1,this._resolveAnimate=null,this.initializing=new ee(u=>{this._resolveAnimate=u},this),this.anim=this.initializing;let a={};X!=null&&X.wasmUrl&&(a.locateFile=function(u){return u.endsWith(".wasm")?X.wasmUrl:u}),nn(a).then(u=>{this._resolveAnimate&&this._resolveAnimate(this.init(u))}),e&&this.animate(e,0),this.snapshotRegistry=new FinalizationRegistry(u=>{this.call(this.module._chart_free)(u)})}call(t){return(...e)=>{try{return t(...e)}catch(a){throw e=parseInt(a,10),e=this.module._vizzu_errorMessage(e),e=this.module.UTF8ToString(e),new Error("error: "+e)}}}iterateObject(t,e,a=""){t&&Object.keys(t).forEach(u=>{var n=a+(a.length===0?"":".")+u;t[u]!==null&&typeof t[u]=="object"?this.iterateObject(t[u],e,n):this.setValue(n,t[u],e)})}setNestedProp(t,e,a){let u=e.split(".");u.forEach((n,f)=>{f<u.length-1?(t[n]=t[n]||{},t=t[n]):t[n]=a.startsWith("[")?JSON.parse(a):a})}setValue(t,e,a){if(t!==""+t)throw new Error("first parameter should be string");t=this.toCString(t),e=this.toCString(String(e).toString());try{a(t,e)}finally{this.module._free(e),this.module._free(t)}}setStyle(t){this.iterateObject(t,(e,a)=>{this.call(this.module._style_setValue)(e,a)})}cloneObject(u,e){var a,u=this.call(u)(),u=this.fromCString(u),n={};for(a of JSON.parse(u)){var f=this.toCString(a);try{var d=this.call(e)(f),m=this.fromCString(d);this.setNestedProp(n,a,m)}finally{this.module._free(f)}}return Object.freeze(n),n}get config(){return this.cloneObject(this.module._chart_getList,this.module._chart_getValue)}get styles(){return this.cloneObject(this.module._style_getList,this.module._style_getValue)}setConfig(t){if(t!==null&&typeof t=="object"&&Object.keys(t).forEach(e=>{["color","lightness","size","label","x","y","noop"].includes(e)&&(t.channels=t.channels||{},t.channels[e]=t[e],delete t[e])}),t==null?void 0:t.channels){let e=t.channels;Object.keys(e).forEach(a=>{typeof e[a]=="string"&&(e[a]=[e[a]]),e[a]!==null&&!Array.isArray(e[a])||(e[a]={set:e[a]}),typeof e[a].attach=="string"&&(e[a].attach=[e[a].attach]),typeof e[a].detach=="string"&&(e[a].detach=[e[a].detach]),typeof e[a].set=="string"&&(e[a].set=[e[a].set]),Array.isArray(e[a].set)&&e[a].set.length===0&&(e[a].set=null)})}this.iterateObject(t,(e,a)=>{this.call(this.module._chart_setValue)(e,a)})}on(t,e){this._validateModule(),this.events.add(t,e)}off(t,e){this._validateModule(),this.events.remove(t,e)}store(){this._validateModule();var t=this.call(this.module._chart_store)(),e={id:t};return this.snapshotRegistry.register(e,t),e}restore(t){this._validateModule(),this.call(this.module._chart_restore)(t.id)}feature(t,e){this._validateModule(),t==="tooltip"&&this.tooltip.enable(e)}_validateModule(){if(!this.module)throw new Error("Vizzu not initialized. Use `initializing` promise.")}animate(t,e){return this.anim=this.anim.then(()=>this.animStep(t,e)),this.anim}animStep(t,e){if(t){let u=Object.assign({},t);var a;u.id?this.restore(u):(u.data||u.style!==void 0||u.config||(u={config:u}),this.data.set(u.data),u.style===null&&(u.style={"":null}),t=JSON.parse(JSON.stringify(u.style||{})),a=sn(this.container,this._propPrefix),this.setStyle(un(a,t,this._propPrefix)),this.setConfig(Object.assign({},u.config)))}return this.setAnimation(e),new ee(u=>{let n=this.module.addFunction(()=>{u(this),this.module.removeFunction(n)},"v");this.call(this.module._chart_animate)(n)},this)}setAnimation(t){if(t!==void 0){if(t===null?t={duration:0}:typeof t!="string"&&typeof t!="number"||(t={duration:t}),typeof t!="object")throw new Error("invalid animation option");t=Object.assign({},t),this.iterateObject(t,(e,a)=>{this.call(this.module._anim_setValue)(e,a)})}}get animation(){return this.anim}version(){this._validateModule();var t=this.module._vizzu_version();return this.module.UTF8ToString(t)}start(){this.started||(this.call(this.module._vizzu_poll)(),this.render.updateFrame(!1),setInterval(()=>{this.call(this.module._vizzu_poll)()},10),setInterval(()=>{this.render.updateFrame(!1)},25),this.started=!0)}getMousePos(t){var e=this.render.clientRect();return[t.clientX-e.left,t.clientY-e.top]}toCString(t){var e=4*t.length+1,a=this.module._malloc(e);return this.module.stringToUTF8(t,a,e),a}fromCString(t){return this.module.UTF8ToString(t)}init(t){return this.module=t,t=this.createCanvas(),this.render=new Ye,this.module.render=this.render,this.data=new tn(this),this.events=new Xe(this),this.module.events=this.events,this.tooltip=new en(this),this.render.init(this.call(this.module._vizzu_update),t,!1),this.call(this.module._vizzu_init)(),this.call(this.module._vizzu_setLogging)(!1),this.setupDOMEventHandlers(t),this.start(),this}createCanvas(){let t=null,e=this.container;if(e instanceof HTMLCanvasElement?t=e:((t=document.createElement("CANVAS")).style.width="100%",t.style.height="100%",e.appendChild(t)),t instanceof HTMLCanvasElement)return t;throw new Error("Error initializing <canvas> for Vizzu!")}setupDOMEventHandlers(t){this.resizeObserver=new ResizeObserver(()=>{this.render.updateFrame(!0)}),this.resizeObserver.observe(t),window.addEventListener("resize",()=>{this.render.updateFrame(!0)}),t.addEventListener("mousemove",e=>{e=this.getMousePos(e),this.call(this.module._vizzu_mouseMove)(e[0],e[1])}),t.addEventListener("mouseup",e=>{e=this.getMousePos(e),this.call(this.module._vizzu_mouseUp)(e[0],e[1])}),t.addEventListener("mousedown",e=>{e=this.getMousePos(e),this.call(this.module._vizzu_mouseDown)(e[0],e[1])}),t.addEventListener("mouseout",()=>{this.call(this.module._vizzu_mouseLeave)()}),t.addEventListener("wheel",e=>{this.call(this.module._vizzu_mousewheel)(e.deltaY)}),document.addEventListener("keydown",e=>{let a=e.keyCode<=255?e.keyCode:0;var u=[33,34,36,35,37,39,38,40,27,9,13,46];for(let n=0;n<u.length;n++)e.key===u[n]&&(a=256+n);a!==0&&this.call(this.module._vizzu_keyPress)(a,e.ctrlKey,e.altKey,e.shiftKey)})}}export{Hn as A,Ze as B,ke as C,Dn as D,Fn as E,cn as F,je as G,G as H,fn as I,mn as J,_n as K,dn as L,Tn as M,En as N,vn as O,pn as P,hn as Q,Yt as R,Nn as S,Cn as T,Rn as V,Re as a,wn as b,bn as c,pt as d,ie as e,Sn as f,De as g,$e as h,jn as i,zn as j,gn as k,yn as l,An as m,Wn as n,Ln as o,Mn as p,Je as q,kn as r,We as s,Pt as t,Pn as u,xn as v,Un as w,Vn as x,Ge as y,On as z};
